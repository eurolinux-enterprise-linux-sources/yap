#
# default base directory for YAP installation
# (EROOT for architecture-dependent files)
#
prefix = @prefix@
ROOTDIR = $(prefix)
EROOTDIR = @exec_prefix@

SHELL=@SHELL@
PLBASE=@PLBASE@
PLARCH=@PLARCH@
PL=@PL@
XPCEBASE=$(PLBASE)/xpce
PKGDOC=$(PLBASE)/doc/packages
PCEHOME=../../xpce
LIBDIR=$(PLBASE)/library
SHAREDIR=$(ROOTDIR)/share/Yap
CLPRDIR=$(SHAREDIR)/clpr
CLPQDIR=$(SHAREDIR)/clpq
CLPQRDIR=$(SHAREDIR)/clpqr
EXDIR=$(PKGDOC)/examples/clpr
DESTDIR=
srcdir=@srcdir@
CLPQSOURCEDIR=$(srcdir)/clpq
CLPRSOURCEDIR=$(srcdir)/clpr
CLPQRSOURCEDIR=$(srcdir)/clpqr


INSTALL=@INSTALL@
INSTALL_PROGRAM=@INSTALL_PROGRAM@
INSTALL_DATA=@INSTALL_DATA@

CLPRPRIV= \
	$(CLPRSOURCEDIR)/bb_r.pl \
	$(CLPRSOURCEDIR)/bv_r.pl \
	$(CLPRSOURCEDIR)/fourmotz_r.pl \
	$(CLPRSOURCEDIR)/ineq_r.pl \
	$(CLPRSOURCEDIR)/itf_r.pl \
	$(CLPRSOURCEDIR)/nf_r.pl \
	$(CLPRSOURCEDIR)/store_r.pl

CLPQPRIV= \
	$(CLPQSOURCEDIR)/bb_q.pl \
	$(CLPQSOURCEDIR)/bv_q.pl \
	$(CLPQSOURCEDIR)/fourmotz_q.pl \
	$(CLPQSOURCEDIR)/ineq_q.pl \
	$(CLPQSOURCEDIR)/itf_q.pl \
	$(CLPQSOURCEDIR)/nf_q.pl \
	$(CLPQSOURCEDIR)/store_q.pl

CLPQRPRIV= \
	$(CLPQRSOURCEDIR)/class.pl \
	$(CLPQRSOURCEDIR)/dump.pl \
	$(CLPQRSOURCEDIR)/geler.pl \
	$(CLPQRSOURCEDIR)/itf.pl \
	$(CLPQRSOURCEDIR)/ordering.pl \
	$(CLPQRSOURCEDIR)/project.pl \
	$(CLPQRSOURCEDIR)/redund.pl

LIBPL=	\
	$(srcdir)/clpr.pl \
	$(srcdir)/clpq.pl
EXAMPLES=	

all::
		@echo "Nothing to be done for this package"

install:	$(LIBPL) $(CLPQRPRIV) $(CLPRPRIV) $(CLPQPRIV)
		mkdir -p $(DESTDIR)$(CLPQRDIR)
		mkdir -p $(DESTDIR)$(CLPRDIR)
		mkdir -p $(DESTDIR)$(CLPQDIR)
		$(INSTALL_DATA) $(LIBPL) $(DESTDIR)$(SHAREDIR)
		$(INSTALL_DATA) $(CLPQRPRIV) $(DESTDIR)$(CLPQRDIR)
		$(INSTALL_DATA) $(CLPRPRIV) $(DESTDIR)$(CLPRDIR)
		$(INSTALL_DATA) $(CLPQPRIV) $(DESTDIR)$(CLPQDIR)
		$(INSTALL_DATA) $(srcdir)/README $(DESTDIR)$(CLPQRDIR)

rpm-install:	install

pdf-install:	install-examples

html-install:	install-examples

install-examples::
#		mkdir -p $(DESTDIR)$(EXDIR)
#		(cd Examples && $(INSTALL_DATA) $(EXAMPLES) $(DESTDIR)$(EXDIR))

uninstall:
		(cd $(CLPDIR) && rm -f $(LIBPL))
		rm -rf $(CLPQRDIR)

check::
#		$(PL) -q -f clpr_test.pl -g test,halt -t 'halt(1)'


################################################################
# Clean
################################################################

clean:
		rm -f *~ *% config.log

distclean:	clean
		rm -f config.h config.cache config.status Makefile
		rm -rf autom4te.cache

